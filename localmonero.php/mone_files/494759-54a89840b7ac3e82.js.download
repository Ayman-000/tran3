"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[494759,390552],{345774:function(e,t,s){var a=s(785893);s(667294);var i=s(809008),r=s.n(i);t.Z=e=>(0,a.jsxs)(r(),{children:[e.canonical&&(0,a.jsx)("link",{rel:"canonical",href:e.canonical}),["description","twitter:description"].map(t=>(0,a.jsx)("meta",{name:t,content:e.description},t)),(0,a.jsx)("meta",{itemProp:"description",content:e.description}),(0,a.jsx)("meta",{property:"og:description",content:e.description}),e.schema&&(0,a.jsx)(a.Fragment,{children:Object.keys(e.schema).map(t=>(0,a.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(e.schema[t])}},t))}),e.datePublished&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("meta",{property:"article:publisher",content:e.frontType}),(0,a.jsx)("meta",{property:"article:section",content:"Uncategorized"}),(0,a.jsx)("meta",{property:"article:published_time",content:e.datePublished}),e.dateUpdated&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("meta",{property:"article:modified_time",content:e.dateUpdated}),(0,a.jsx)("meta",{property:"og:updated_time",content:e.dateUpdated})]})]})]})},390552:function(e,t,s){s.r(t),s.d(t,{default:function(){return d}});var a=s(785893),i=s(667294),r=s(541749),n=s(758618),o=s(809530),l=s(833224),c=s.n(l),h=s(779180),p=s(619719);class d extends i.Component{render(){return this.props.login?(0,a.jsx)(r.Z,{item:!0,xs:12,sm:12,children:(0,a.jsx)(n.Z,{variant:"outlined",type:"number",inputProps:{name:"otp",pattern:"^d{6}$","aria-label":"One-time password"},autoComplete:"one-time-code",InputLabelProps:{shrink:this.props.login},fullWidth:!0,id:"otp",label:(0,a.jsx)(h._H,{id:"otp-title-0",defaultMessage:"One-time password (if enabled)"}),margin:"normal",helperText:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h._H,{id:"otp-tip-0-0",defaultMessage:"If you have enabled two-factor authentication, enter your 6 digit one-time password here."}),!this.props.webview&&(0,p.a$)("/guides/2fa",(0,a.jsx)(h._H,{id:"otp-tip-0-1",defaultMessage:"Where do I find my one-time password?"}),!1,"/start/2fa")]})})}):(0,a.jsx)("div",{style:{width:"100%",maxWidth:600},children:(0,a.jsx)(n.Z,{variant:"outlined",type:"number",fullWidth:!0,onKeyDown:e=>{this.props.disableSubmit||13!==e.keyCode||this.props.submit()},error:this.state.error,id:"name",label:(0,a.jsx)(h._H,{id:"otp-title-1",defaultMessage:"One-time password"}),value:this.state.otp?this.state.otp:"",onChange:this.handleInput,margin:"normal",helperText:(0,a.jsx)(h._H,{id:"otp-tip-1",defaultMessage:"Enter your 6 digit one-time password from the 2FA mobile app here."})})})}constructor(e,t){super(e,t),this.handleInput=e=>{e.target.value?(0,o.Gu)(e.target.value,c().otp)?(this.setState({error:!1,otp:e.target.value}),this.props.sendToParent({asset:this.props.asset,error:!1,otp:e.target.value})):(this.setState({error:!0,otp:e.target.value}),this.props.sendToParent({asset:this.props.asset,error:!0,otp:e.target.value})):(this.setState({error:!1,otp:""}),this.props.sendToParent({asset:this.props.asset,error:!1,otp:""}))},this.state={otp:"",error:!1}}}},463911:function(e,t,s){var a=s(785893),i=s(667294),r=s(541749),n=s(439803),o=s(517586),l=s(817812),c=s(936210),h=s(779180),p=s(582313);class d extends i.Component{UNSAFE_componentWillReceiveProps(e){e.reset&&(this.setState({refreshCaptchaKey:this.state.refreshCaptchaKey+1,captcha:""},()=>this.setState({refreshInputKey:this.state.refreshInputKey+1})),this.props.onReset())}render(){return(0,a.jsxs)(r.Z,{style:{marginTop:16,maxWidth:"100%",gap:8,display:"flex",flexDirection:"column"},item:!0,xs:12,children:[(0,a.jsxs)(r.Z,{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:4},item:!0,xs:12,children:[(0,a.jsx)("div",{children:(0,a.jsx)("img",{style:{maxWidth:"100%"},alt:"captcha",src:"/captcha.jpg?r=".concat(this.state.refreshCaptchaKey)})}),(0,a.jsx)(l.Z,{size:"small","aria-label":"refresh-captcha",onClick:()=>this.setState({refreshCaptchaKey:this.state.refreshCaptchaKey+1,captcha:""}),children:(0,a.jsx)(c.Z,{style:{color:(0,o.Z)(this.props.theme.palette).button.icon}})})]}),(0,a.jsx)(r.Z,{item:!0,xs:12,style:{marginTop:4},children:(0,a.jsx)(n.Z,{InputLabelProps:{shrink:this.props.raisedLabel},inputProps:{"aria-label":"Captcha"},variant:"outlined",id:"captcha",name:"captcha",fullWidth:!0,onKeyDown:e=>{13===e.keyCode&&(this.props.disableBtn||!this.props.handleSubmit||this.props.handleSubmit())},type:"text",label:(0,a.jsx)(h._H,{id:"captcha.helper-text",defaultMessage:"Enter the text on the image above"}),value:this.state.captcha,onChange:this.handleCaptchaInput},this.state.refreshInputKey)})]})}constructor(e,t){super(e,t),this.handleCaptchaInput=e=>{this.setState({captcha:e.target.value}),this.props.sendToParent(e.target.value)},this.state={captcha:"",refreshCaptchaKey:this.props.preventCacheKey,refreshInputKey:0}}}t.Z=(0,p.Z)(d)},634538:function(e,t,s){var a=s(785893),i=s(659061),r=s(913457);s(667294),t.Z=e=>{let{type:t="light",active:s,children:n,frontType:o}=e;if(!s||"light"===t)return n;let l=(0,i.Z)({palette:{type:t,background:{paper:"AgoraDesk"===o?"#2e343e":"#2e333f"},primary:{main:"#8093fb"},misc:{toggle:"#00b248",tabs:{inactive:"#616161"}},button:{icon:"rgba(255, 255, 255, 0.7)"}}});return(0,a.jsx)(r.Z,{theme:l,children:n})}},888389:function(e,t,s){var a=s(785893),i=s(522318);s(667294);var r=s(165379),n=s(779180),o=s(438837);let l=e=>{let t=new Date(e);return"".concat(t.toISOString().split("T")[0]," ").concat(t.toISOString().split("T")[1].substr(0,5)," UTC")},c=(0,n.XN)(e=>{let{sanctionExpiresAt:t,sanctionReason:s,sanctionType:n,sanctionedAt:c,sanctionedBy:h,username:p,intl:d,excludedProps:u,action:g}=e;return(0,a.jsxs)("div",{style:{padding:"8px 0"},children:[g&&(0,a.jsx)(i.Z,{variant:"subtitle1",style:{marginBottom:8},children:(0,o.Z)("sanction.action-notice")}),(0,a.jsx)(i.Z,{variant:"h6",style:{fontWeight:500},children:r.W[n]}),[{label:(0,o.Z)("sanction.sanctioned-at"),value:!!c&&l(c)},{label:(0,o.Z)("sanction.expires"),value:t?"".concat(l(t)," (").concat(d.formatRelative(t),")"):"Permanent"},{label:"By",value:h},{label:(0,o.Z)("sanction.reason"),value:s}].map(e=>{let{label:t,value:s}=e;return u&&u.includes(t)?null:s?(0,a.jsxs)("div",{style:{display:"flex"},children:[(0,a.jsxs)(i.Z,{style:{marginRight:16,minWidth:70},children:[t,":"]}),(0,a.jsx)(i.Z,{style:{fontWeight:500},children:s})," "]}):void 0})]})});t.Z=c},165379:function(e,t,s){s.d(t,{E:function(){return i},W:function(){return r}});var a=s(438837);let i={BAN:"Ban",WALLET_FREEZE:"Freeze wallet / suspend trading",TRADING_SUSPENSION:"Suspend trading"},r={BAN:(0,a.Z)("sanction.ban.label"),WALLET_FREEZE:(0,a.Z)("sanction.wallet-freeze.label"),TRADING_SUSPENSION:(0,a.Z)("sanction.label.trading-suspension")}},777753:function(e,t){t.Z=e=>"https://localmonero.freshworks.com/login/auth/".concat({LocalMonero:"1619273198981",AgoraDesk:"1619175741220"}[e],"?client_id=").concat("451979510707337272","&redirect_uri=https%3A%2F%2F").concat(e.toLowerCase(),".freshdesk.com%2Ffreshid%2Fcustomer_authorize_callback%3Fhd%3D").concat(e.toLowerCase(),".freshdesk.com")},32377:function(e,t,s){s.d(t,{D:function(){return l}});var a=s(83652),i=s(781292),r=s(422808),n=s(491277),o=s(653619);let l=async(e,t,s)=>{try{s||((0,o.K0)(e,"encryptedSecret"),(0,o.RS)(t,32,"masterKey"),await (0,a.u)(e)),null!=s||(s=await (0,i.K)(e,t)),await (0,r.tR)(s),await (0,r.zo)(s),s=null,(0,n.Lm)(1)}catch(e){throw e}}},888096:function(e,t,s){s.d(t,{c:function(){return a}});let a=e=>{let t=new FormData(e.target);e.preventDefault();let s={};for(let e of t)s[e[0]]=e[1];return s}},494759:function(e,t,s){s.r(t);var a=s(785893),i=s(667294),r=s(577341),n=s(834269);s(663144);var o=s(390552),l=s(33916),c=s(779180),h=s(463911),p=s(345774),d=s(249638),u=s(438837),g=s(809530),m=s(541749),w=s(522318),x=s(79895),f=s(439803),y=s(707397),j=s(817812),b=s(282),v=s(52663),Z=s(882285),_=s(566083),S=s(29525),C=s(207212),T=s(966856),M=s(416485),R=s(630553),E=s(900903),A=s(816596),I=s(542550),L=s(752506),k=s(888389),P=s(777753),U=s(963521),H=s(756082),F=s(422808),D=s(583394),O=s(742562),N=s(821738),B=s(921270),K=s(32377),W=s(879509),q=s(781292),J=s(522719),z=s(367088),X=s(653619),G=s(330620),$=s(585029),V=s(903705),Y=s(619719),Q=s(197918),ee=s(634538),et=s(888096),es=s(133526);class ea extends i.Component{static async getInitialProps(e){let{query:t,req:s}=e;try{return{sso:t.sso,returnUrl:t.returnUrl,webviewLogin:t.webviewLogin,themeType:t.themeType,headless:t.headless}}catch(e){}}render(){let{intl:e}=this.props,t={container:{marginTop:16,display:"block"},blueButton:{marginRight:this.props.webviewLogin?0:15,width:"100%",height:50}},s=(0,c.vU)({title:{id:"document-title.login",defaultMessage:"Log in"},htmlDescription:{id:"description.login",defaultMessage:"Login to your LocalMonero account to start trading now."}});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.Z,{description:e.formatMessage(s.htmlDescription)}),(0,a.jsx)(r.Z,{...this.props,frontType:this.props.frontType,csrfToken:this.props.csrfToken,xs:this.props.xs,sm:this.props.sm,md:this.props.md,lg:this.props.lg,xl:this.props.xl,stateFromCookies:this.props.stateFromCookies,title:e.formatMessage(s.title),loggedIn:!!this.props.username,hide:this.props.webviewLogin,noFooter:this.props.headless,children:(0,a.jsxs)(ee.Z,{active:this.props.webviewLogin,type:this.props.themeType,children:[!this.props.headless&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(m.Z,{item:!0,style:{margin:"auto",maxWidth:this.props.webviewLogin?"100%":550,padding:this.props.webviewLogin?0:16},children:[!this.props.webviewLogin&&(0,a.jsxs)(a.Fragment,{children:[" ",(0,a.jsx)(w.Z,{component:"h1",display:"block",variant:"h4",children:(0,a.jsx)(c._H,{id:"login.title",defaultMessage:"Log in"})}),(0,a.jsx)(w.Z,{display:"block",style:{paddingBottom:8},variant:"caption",color:"textSecondary",children:(0,u.Z)("login.same-credentials-tip",{front_type_url:(0,g.au)(A.frontProps[this.props.frontType].oppositeFront,A.frontProps[this.props.frontType].oppositeUrl,!0)})})]}),(0,a.jsx)(x.Z,{elevation:1,style:{padding:this.props.webviewLogin?0:30,borderRadius:this.props.webviewLogin?0:4,height:this.props.webviewLogin?"100vh":"auto"},children:(0,a.jsxs)("form",{id:"login",onSubmit:this.submit,method:"POST",children:[(0,a.jsx)(m.Z,{item:!0,xs:12,sm:12,children:(0,a.jsx)(f.Z,{variant:"outlined",autoFocus:!0,fullWidth:!0,InputLabelProps:{shrink:!0},inputProps:{name:"username",pattern:"^[a-zA-Z0-9\\-_]+$",minLength:3,maxLength:16,required:!0,form:"login","aria-label":"Username"},autoComplete:"username",id:"username",label:(0,a.jsx)(c._H,{id:"login.username",defaultMessage:"Username"}),margin:"normal",helperText:(0,a.jsx)(c._H,{id:"login.username-tip",defaultMessage:"3-16 characters. Allowed characters: a-z, A-Z, 0-9, -, _"})})}),(0,a.jsx)(m.Z,{item:!0,xs:12,sm:12,children:(0,a.jsx)(f.Z,{variant:"outlined",fullWidth:!0,id:"password",type:this.state.showPassword?"text":"password",InputLabelProps:{shrink:!0},inputProps:{name:"password",pattern:"^[ -~]+$",minLength:8,maxLength:72,required:!0,"aria-label":"Password"},autoComplete:"current-password",label:(0,a.jsx)(c._H,{id:"password",defaultMessage:"Password"}),margin:"normal",helperText:(0,a.jsx)(c._H,{id:"password-tip",defaultMessage:"8-72 characters."}),InputProps:{endAdornment:(0,a.jsx)(y.Z,{position:"start",children:(0,a.jsx)(j.Z,{id:"password-visibility","aria-label":"Toggle password visibility",title:"Toggle password visibility",onClick:()=>this.setState({showPassword:!this.state.showPassword}),children:this.state.showPassword?(0,a.jsx)(N.Z,{}):(0,a.jsx)(B.Z,{})})})}})}),(0,a.jsx)(o.default,{login:!0,webview:this.props.webviewLogin}),(this.state.requireCaptcha||this.props.onion)&&(0,a.jsx)(h.Z,{raisedLabel:!0,uncontrolled:!0,preventCacheKey:new Date().getTime(),onReset:()=>this.setState({resetCaptcha:!1}),reset:this.state.resetCaptcha,handleSubmit:()=>{},sendToParent:this.handleCaptcha.bind(this)}),(0,a.jsxs)(m.Z,{item:!0,xs:12,children:[!this.props.webviewLogin&&(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",margin:"16px 0"},children:[(0,a.jsx)(R.Z,{control:(0,a.jsx)(E.Z,{name:"trustedDevice",id:"trustedDevice",checked:this.state.trustedDevice,value:"trustedDevice"}),label:(0,a.jsxs)(w.Z,{style:{whiteSpace:"nowrap"},color:"textSecondary",children:[" ",(0,u.Z)("login.remember-me")]})}),(0,a.jsx)(w.Z,{align:"right",children:(0,Y.a$)("/requestReset",(0,a.jsx)(c._H,{id:"login.reset",values:{link:""}}))})]}),(0,a.jsx)("div",{style:t.container,children:(0,a.jsx)(b.Z,{type:"submit",disabled:this.state.disableBtn,variant:"contained",color:"primary",style:{width:"100%",height:40},startIcon:this.state.spinner?(0,a.jsx)(d.Z,{action:!0}):(0,a.jsx)(I.Z,{}),children:(0,a.jsx)(c._H,{id:"login.title",defaultMessage:"Log in"})})})]}),!this.props.webviewLogin&&(0,a.jsxs)(m.Z,{style:{paddingTop:15,paddingBottom:15,textAlign:"center"},item:!0,xs:12,children:[(0,a.jsx)(w.Z,{color:"textSecondary",display:"block",style:{display:"inline-block"},variant:"caption",children:(0,a.jsx)(c._H,{id:"login.signup",values:{link:(0,Y.a$)("/signup",(0,a.jsx)(c._H,{id:"login.signup-link",defaultMessage:"Sign up"}))},defaultMessage:"Don't have an account yet? {link}"})})," "]})]})})]})}),(0,a.jsxs)(v.Z,{open:!!this.state.submitErr,transition:Z.Z,onClose:this.submitErrDialogClose,children:[(0,a.jsx)(_.Z,{children:(0,a.jsx)(c._H,{id:"login.error-8",defaultMessage:"Disallowed values"})}),(0,a.jsx)(S.Z,{children:(0,a.jsx)(C.Z,{children:this.submitErrText()})}),(0,a.jsx)(T.Z,{children:(0,a.jsx)(b.Z,{onClick:this.submitErrDialogClose,color:"primary",children:(0,a.jsx)(c._H,{id:"post-ad.error.dialog-back-btn",defaultMessage:"Back"})})})]}),(0,a.jsxs)(v.Z,{open:!!this.state.limit,transition:Z.Z,onClose:()=>this.setState({limit:!1}),children:[(0,a.jsx)(_.Z,{children:(0,a.jsx)(c._H,{id:"login.error-9-title",defaultMessage:"Login attempts exceeded"})}),(0,a.jsx)(S.Z,{children:(0,a.jsx)(C.Z,{children:(0,a.jsx)(c._H,{id:"login.error-9-text",defaultMessage:"Too many login attempts! Please wait for some time."})})}),(0,a.jsx)(T.Z,{children:(0,a.jsx)(b.Z,{onClick:()=>this.setState({limit:!1}),color:"primary",children:(0,a.jsx)(c._H,{id:"post-ad.error.dialog-back-btn",defaultMessage:"Back"})})})]}),(0,a.jsxs)(v.Z,{open:!!this.state.error,transition:Z.Z,onClose:()=>this.setState({error:!1}),children:[(0,a.jsx)(_.Z,{children:(0,a.jsx)(c._H,{id:"login.error-10",defaultMessage:"Log in error"})}),(0,a.jsx)(S.Z,{children:(0,a.jsx)(C.Z,{children:(0,a.jsx)("span",{id:"login-error-msg",children:this.state.errorMessage})})}),(0,a.jsx)(T.Z,{children:(0,a.jsx)(b.Z,{onClick:()=>this.setState({error:!1}),color:"primary",children:(0,a.jsx)(c._H,{id:"post-ad.error.dialog-back-btn",defaultMessage:"Back"})})})]}),this.props.headless&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("input",{type:"hidden",id:"headless-login-data"}),(0,a.jsx)("button",{style:{opacity:0},id:"headless-login-btn",onClick:this.headlessLogin}),this.state.headlessSuccess&&(0,a.jsx)("span",{id:"headless-success"})]})]})})]})}constructor(e,t){super(e,t),this.headlessLogin=async()=>{try{let e=document.getElementById("headless-login-data").value,t=JSON.parse(e);await this.prepareMultisigSession(null,t)}catch(t){var e;this.setState({error:!0,errorMessage:null!==(e=null==t?void 0:t.message)&&void 0!==e?e:t.toString()})}},this.prepareMultisigSession=async(e,t)=>{let a,i,r,n;let{frontType:o}=this.props;if(e){if({loginResponse:n,masterKey:r}=e,{encryptedSecret:i}=n,!await (0,H.nj)(i,r))throw new z.Z("MAC_VERIFICATION_ERROR");await (0,K.D)(i,r)}else{let{mnemonic:e}=t;a=await (0,es.GO)(e),await (0,K.D)(null,null,a)}let l=await (0,$.U)(o);if(l.length){let e=[];for(let n of l)switch(n){case"BTC":let o=async()=>{await (0,Q.Rf)(n),null!=a||(a=await (0,q.K)(i,r)),(0,X.RS)(a,32,"secretKey");let{getAccountBitcoinDescriptors:e,getBip39SeedFromSecretKey:o}=await Promise.resolve().then(s.bind(s,197988)),c=await o(a);(0,X.RS)(c,64,"bip39Seed");try{let{externalDescriptor:t,internalDescriptor:s}=await e(c);await (0,F.if)(t,s),(0,J.p)("BTC")}catch(e){if(e instanceof z.Z&&"XPUB_NOT_IN_DESCRIPTOR"===e.code){if(t)throw new z.Z("HEADLESS_WALLET_ERROR");(0,F.x2)(),l=[]}else throw e}finally{await (0,F.zq)(c)}};e.push(o());break;case"XMR":let c=async()=>{try{await (0,Q.Rf)(n);let{keysData:e,cacheData:t}=await (0,O._o)();await (0,F.nh)(e,t),(0,F.v8)()}catch(e){if(e instanceof z.Z&&"MAC_VERIFICATION_ERROR"===e.code){if(t)throw new z.Z("HEADLESS_WALLET_ERROR");(0,G.H)(e),(0,F.x2)(),l=[]}else throw e}};e.push(c())}await Promise.all(e),(0,F.xi)(l)}await (0,D.F)(),t&&this.setState({headlessSuccess:!0})},this.submit=async e=>{let{username:t,password:s,otp:i,trustedDevice:r}=(0,et.c)(e),{frontType:o}=this.props,{captcha:l}=this.state,h={username:t,frontType:o,captcha:l,password:s};i&&(h.otp=i),r&&(h.trustedDevice=!0),this.setState({spinner:!0,disableBtn:!0});let p=()=>{this.setState({error:!0,errorMessage:(0,a.jsx)(c._H,{id:"login.error-0",defaultMessage:"Wrong username/password/one-time password!"})})};try{let e,a,i=await (0,W.J)(t);1===i&&(e=await (0,U.Uc)(s,t),a=await (0,U.uE)(e,s),h.password=a);let r=await (0,L.Z)({url:n.Ib(),data:h,headers:this.props.webviewLogin?{"x-auth-type":"mobile-app"}:{}});if(this.props.webviewLogin)return;try{a=null,await (0,V.lK)()}catch(e){console.error("Error clearing local data before logging in",e)}1===i&&await this.prepareMultisigSession({loginResponse:r,masterKey:e}),(()=>{this.props.sso?window.location.assign("forums"===this.props.sso?"https://forums.localmonero.co/session/sso":(0,P.Z)(this.props.frontType)):this.props.returnUrl?window.location.assign(this.props.returnUrl):(0,g.h5)()})()}catch(e){if((0,G.H)(e,"Login error"),await (0,V.Tz)(),this.setState({spinner:!1,disableBtn:!1}),e instanceof z.Z&&"MAC_VERIFICATION_ERROR"===e.code)this.setState({resetCaptcha:!!this.state.requireCaptcha}),this.setState({error:!0,errorMessage:(0,u.Z)("nojs.error.server")});else if(e.sanctionType)this.setState({resetCaptcha:!!this.state.requireCaptcha}),this.setState({error:!0,errorMessage:(0,a.jsx)(k.Z,{action:!0,...e})});else{var d,m,w;if(401===e)this.state.requireCaptcha&&this.setState({resetCaptcha:!!this.state.requireCaptcha}),p();else if((null==e?void 0:null===(d=e.data)||void 0===d?void 0:d.message)||(null==e?void 0:e.message)){let t=null!==(w=null==e?void 0:null===(m=e.data)||void 0===m?void 0:m.message)&&void 0!==w?w:null==e?void 0:e.message;"30"===t?(this.state.requireCaptcha&&this.setState({error:!0,errorMessage:(0,a.jsx)(c._H,{id:"error.captcha",defaultMessage:"CAPTCHA failed, please try again"})}),this.setState({resetCaptcha:!!this.state.requireCaptcha,requireCaptcha:!0})):"283"===t?p():(this.setState({resetCaptcha:!!this.state.requireCaptcha}),this.setState({error:!0,errorMessage:(0,a.jsx)(c._H,{id:"login.error-generic",defaultMessage:"Error!"})}))}else this.setState({resetCaptcha:!!this.state.requireCaptcha}),this.setState({error:!0,errorMessage:(0,a.jsx)(c._H,{id:"login.error-generic",defaultMessage:"Error!"})})}}},this.submitErrDialogClose=()=>{this.setState({submitErr:!1})},this.submitErrText=()=>this.state.usernameErr&&this.state.passwordErr?(0,a.jsx)(c._H,{id:"login.error-1",defaultMessage:"Username and password have disallowed characters or invalid length"}):this.state.usernameErr?(0,a.jsx)(c._H,{id:"login.error-2",defaultMessage:"Username has disallowed characters or invalid length"}):this.state.passwordErr?(0,a.jsx)(c._H,{id:"login.error-3",defaultMessage:"Password has disallowed characters or invalid length"}):""===this.state.password||""===this.state.username?(0,a.jsx)(c._H,{id:"login.error-4",defaultMessage:"Fields can't be left blank"}):this.state.otpErr?(0,a.jsx)(c._H,{id:"login.error-5",defaultMessage:"One-time password has to be 6 digits long"}):void 0,this.handleCaptcha=e=>{this.setState({captcha:e})},this.state={captcha:"",submitErr:!1,error:!1,errorMessage:null,spinner:!1,totalDeriveMasterKeyFromPasswordAndSalt:0,totalTime:0,headlessSuccess:!1}}}t.default=(0,l.Z)((0,M.Z)(ea))},879509:function(e,t,s){s.d(t,{J:function(){return i}});var a=s(752506);let i=async e=>{let{version:t}=await (0,a.Z)({url:"/web/prelogin",data:{username:e}});return t}},742562:function(e,t,s){s.d(t,{UM:function(){return p},_o:function(){return d},_p:function(){return u},m6:function(){return g}});var a=s(422808),i=s(85841),r=s(668031),n=s(756082),o=s(439324),l=s(752506),c=s(367088),h=s(653619);let p=async()=>{let{keysData:e,cacheData:t}=await (0,a.vX)();if(!e||!t)throw new c.Z("MISSING_WALLET_DATA");let s=(0,r.hL)(e.length),h=(0,r.Jm)([s,e,t]),{walletEnc:p,walletMac:d}=await (0,a.cH)(),u=await (0,i.nZ)(),g=new Uint8Array(await (0,n.RI)(h,p,u)),m=new Uint8Array(await (0,n._0)((0,r.Jm)([u,g]),d)),w=new Uint8Array([o.m]),x=(0,r.Jm)([w,m,u,g]);await (0,l.Z)({url:"/web/account/multisig/XMR/save",data:(0,r.hI)(x),headers:{"Content-Type":"application/octet-stream"},timeout:0})},d=async(e,t)=>{let s=await (0,l.Z)({url:"/web/account/multisig/XMR/restore",responseType:"arraybuffer",timeout:0});(0,h.K0)(s,"walletBundleBuffer");let p=new Uint8Array(s),d=p.slice(0,1);if(o.m!==d[0])throw new c.Z("ENCRYPTION_TYPE_MISMATCH_ERROR");let u=p.slice(49),g=p.slice(33,49);t&&e||({walletEnc:e,walletMac:t}=await (0,a.cH)()),(0,h.RS)(e,32,"walletEnc"),(0,h.RS)(t,32,"walletMac");let m=p.slice(1,33),w=new Uint8Array(await (0,n._0)(u,t)),x=new Uint8Array(await (0,n._0)(new Uint8Array(0),t)),f=new Uint8Array(await (0,n._0)((0,r.Jm)([u,g]),t)),y=new Uint8Array(await (0,n._0)((0,r.Jm)([g,u]),t));(0,h.RS)(m,32,"walletDataCiphertextMacFromBundle"),(0,h.RS)(y,32,"walletDataCiphertextMacFromUserKey");let j=(0,r.Tc)(m),b=(0,r.Tc)(y),v=(0,r.Tc)(w),Z=(0,r.Tc)(x),_=(0,r.Tc)(f);if(j!==b&&v!==j&&Z!==j&&_!==j)throw new c.Z("MAC_VERIFICATION_ERROR",{mac1:j,mac2:b,walletMac:t});let S=new Uint8Array(await (0,i.AF)(u,e,g)),C=(0,r.tm)(S.slice(0,4)),T=4+C,M=S.slice(4,T),R=S.slice(T);return{keysData:M,cacheData:R}},u=async e=>{let{keysData:t}=await (0,a.vX)();if(!t||!e)throw new c.Z("MISSING_WALLET_DATA");let s=(0,r.hL)(e,8),{keysEnc:h,keysMac:p}=await (0,a.dj)(),d=await (0,i.nZ)(),u=new Uint8Array(await (0,n.RI)(t,h,d)),g=new Uint8Array(await (0,n._0)((0,r.Jm)([d,u]),p)),m=new Uint8Array([o.m]),w=(0,r.Jm)([m,s,g,d,u]);await (0,l.Z)({url:"/web/account/multisig/XMR/save/backup",data:(0,r.hI)(w),headers:{"Content-Type":"application/octet-stream"},timeout:0})},g=async(e,t)=>{let s=await (0,l.Z)({url:"/web/account/multisig/XMR/restore/backup",responseType:"arraybuffer",timeout:0});(0,h.K0)(s,"keysBackupBundleBuffer");let p=new Uint8Array(s),d=p.slice(0,1);if(o.m!==d[0])throw new c.Z("ENCRYPTION_TYPE_MISMATCH_ERROR");let u=p.slice(57),g=p.slice(41,57);t&&e||({keysEnc:e,keysMac:t}=await (0,a.dj)()),(0,h.RS)(e,32,"keysEnc"),(0,h.RS)(t,32,"keysMac");let m=p.slice(9,41),w=new Uint8Array(await (0,n._0)((0,r.Jm)([u,g]),t)),x=new Uint8Array(await (0,n._0)(new Uint8Array(0),t)),f=new Uint8Array(await (0,n._0)((0,r.Jm)([g,u]),t));(0,h.RS)(m,32,"keysDataCiphertextMacFromBundle"),(0,h.RS)(f,32,"keysDataCiphertextMacFromUserKey");let y=(0,r.Tc)(m),j=(0,r.Tc)(f),b=(0,r.Tc)(w),v=(0,r.Tc)(x);if(y!==j&&y!==b&&y!==v)throw new c.Z("MAC_VERIFICATION_ERROR",{mac1:y,mac2:j,keysMac:t});let Z=new Uint8Array(await (0,i.AF)(u,e,g)),_=p.slice(1,9),S=(0,r.tm)(_);return{keysData:Z,restoreHeight:S}}},585029:function(e,t,s){s.d(t,{U:function(){return r}});var a=s(816596),i=s(132286);let r=async e=>{let t=a.frontProps[e].assets,s=[];for(let e of t){let t=await (0,i.HT)(e);t.balance&&s.push(e)}return s}}}]);